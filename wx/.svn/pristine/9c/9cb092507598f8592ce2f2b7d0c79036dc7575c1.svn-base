Page({

  /**
   * 页面的初始数据
   */
  data: {
    orderType: [
      'E团购',
      '自助点单',
      '约技师',
      '订房间',
      '约项目',
      '在线商场'
    ],
    orderState: [
      '全部',
      '待使用',
      '待评价',
      '已完成'
    ],
    tname: '分类订单'
  },

  /**
   * 生命周期函数--监听页面加载
   */
  onLoad: function (options) {
    
  },

  /**
   * 用户点击右上角分享
   */
  onShareAppMessage: function () {
    return {
      title: '客源无忧微信营销平台'
    }
  },

  /**
   * 点击切换全部订单和分类订单
   */
  orderTypeTitleChange: function(ev){
    var idx = ev.currentTarget.dataset.idx;
    if (idx == 1){
      this.setData({
        typeOrderDisplay: 'display:none',
        tIdx: idx,
        tname: '分类订单'
      });
    }else{
      this.setData({
        typeOrderDisplay: 'display:block',
        tIdx: idx
      });
    }
  },

  /**
   * 点击切换分类订单类型
   */
  orderTypeChange: function(ev){
    wx.showLoading({
      title: '加载中',
      mask: true
    });
    var tname = ev.currentTarget.dataset.tname;
    this.setData({
      typeOrderDisplay: 'display:none',
      tIdx: 2,
      tname: tname
    });

    setTimeout(function(){
      wx.hideLoading();
    },500);
  },

  /**
   * 点击切换订单状态
   */
  orderStateChange: function(ev){
    var idx = ev.currentTarget.dataset.idx;

    this.setData({
      sIdx: idx
    });
  },

  /**
   * 点击立即消费
   */
  lijixiaofei: function(){
    this.setData({
      qrDisplay: 'display:block'
    });
  },

  /**
   * 关闭二维码
   */
  closeQrcode: function () {
    this.setData({
      qrDisplay: 'display:none'
    });
  },

  /**
   * 点击评价，跳转至评价页
   */
  evaluation: function(){
    wx.navigateTo({
      url: '/pages/transbuy/pages/assess/assess',
    });
  },

  /**
   * 跳转至订单详情页
   */
  toOrderDetail: function(){
    wx.navigateTo({
      url: '../orderdetail/orderdetail',
    });
  }
})