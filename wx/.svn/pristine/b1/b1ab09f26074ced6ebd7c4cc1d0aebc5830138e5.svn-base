<import src="../../../common/reserve-stime.wxml" />
<import src="../../../common/online-reserve.wxml" />
<view class="container">
  <!-- 门店信息模版 -->
  <template is="online-reserve" data="{{tabIdx: 2,locationStore: locationStore}}" />

  <view class="room-people">
    <view class="flex-wrp">
      <view class="room-num room-people-num">
        <view class="room-box clear room-people-touch" bindtouchstart="roomPStart" bindtouchmove="roomPMove" bindtouchend="roomPEnd" style="left:{{roomPLeft}};{{roomBoxWN}}">
          <view class="room-num-item {{roomNumIdx == -1 ? 'active' : ''}}" bindtap="changeRoomNum" data-idx="-1">全部
            <text></text>
          </view>

          <view class="room-num-item {{roomNumIdx == item.bednum ? 'active' : ''}}" wx:for="{{roomNumRow}}" bindtap="changeRoomNum" wx:key="" data-idx="{{item.bednum}}">{{item.bednum}}人间
            <text></text>
          </view>
        </view>
      </view>
      <!-- <view class="room-num-more {{pMactive}}" bindtap="roomPMore"></view> -->
    </view>

    <!-- <view class="room-people-more" style="display:{{pmoff ? 'none' : 'block' }}">
      <scroll-view scroll-y style="height: 300rpx">
        <view class="room-people-more-con clear">
          <view class="flex-wrp" wx:for="{{roomNum}}">
            <view class="rtype-item {{index == roomNumIdx ? 'active' : ''}}" wx:for="{{item}}" bindtap="changeRoomNum" data-idx="{{index}}">{{item}}</view>
          </view>
        </view>
      </scroll-view>
    </view> -->
  </view>

  <view class="room-type">
    <view class="flex-wrp">
      <view class="room-num room-type-num">
        <view class="room-box clear room-type-touch" bindtouchstart="roomTStart" bindtouchmove="roomTMove" bindtouchend="roomTEnd" style="left:{{roomTLeft}};{{roomBoxWT}}">
          <view class="room-type-item {{roomTypeIdx == 0 ? 'active' : ''}}" data-idx="0" bindtap="changeRType">全部
            <text></text>
          </view>

          <block wx:for="{{roomTypeRow}}"  wx:key="" >
            <view data-idx="{{item.autoid}}" class="room-type-item {{roomTypeIdx == item.autoid ? 'active' : ''}}" bindtap="changeRType">{{item.roomscategoryname}}
              <text></text>
            </view>
          </block>

        </view>
      </view>
      <!-- <view class="room-num-more {{tMactive}}" bindtap="roomTMore"></view> -->
    </view>

    <!-- <view class="room-type-more" style="display:{{tmoff ? 'none' : 'block' }}">
      <scroll-view scroll-y style="height: 300rpx">
        <view class="room-people-more-con">
          <view class="flex-wrp" wx:for="{{roomType}}">
            <view class="rtype-item" wx:for="{{item}}">{{item}}</view>
          </view>
        </view>
      </scroll-view>
    </view> -->
  </view>

  <!-- 房间 -->
  <view class="room-content clear">

    <view class="room-item" wx:for="{{roomData}}"  wx:key="" >
      <view class="room-img" bindtap="toRoomDil" data-idx="{{item.autoid}}">
        <image src="{{item.picurlarr ? showImgUrl + item.picurlarr[0] : roomDefaultImg}}" lazy-load mode="aspectFill"></image>
        <view class="room-info">
          <text>【{{item.roomscategoryname}}】{{item.bednum}}人间</text>
        </view>
      </view>
      <view class="reserve-room-p" bindtap="reserveBtn" data-id='{{index}}' data-rname="{{item.roomscategoryname}}" data-bednum="{{item.bednum}}" data-nodeid="{{item.nodeid}}"  >
        <icon type="success" size="20" color="rgb(202,168,118)" style="{{item.selected ? iconHide : ''}}" />
        <view class="reserve-room-btn btn-gradient" style="{{item.selected ? reserveBtnHide : ''}}">预约</view>
      </view>
    </view>

    <!-- 上拉加载提示 -->
    <!-- <view class="load-more">{{loadMtext}}</view> -->

  </view>

</view>
<!-- 预约按钮 -->
<view class="buy-bar" bindtap="confirmBtn">立即预约</view>

<!-- 分享按钮 -->
<view class="share-box">
  <button hover-class="none" open-type="share">
    <text>分享</text>
  </button>
</view>

<!-- 选择时间模版 -->
<template is="reserve-stime" data="{{maskDisplay: maskDisplay,showSelectTime: showSelectTime}}" />