<view class="qrcode-content">
  <view class="con-box">
    <view class="head-info flex-wrp">
      <image src="{{orderData[0].picurl ? showImgUrl + orderData[0].picurl : cardPicUrl}}" lazy-load mode="aspectFill"></image>
      <view class="infos">
        <block wx:if="{{orderData[0].taskid == 1 || orderData[0].taskid == 2}}">
          <view class="ptitle">{{orderData[0].mysqldocardinfo.membershiptypename}}</view>
        </block>
        <block wx:if="{{orderData[0].taskid == 4}}">
          <view class="ptitle">{{orderData[0].membershiptypename}}</view>
        </block>
        <view class="pstore">门店：{{orderData[0].mysqldocardinfo.store_name}}</view>
        <block wx:if="{{address}}">
          <view class="pstore">地址：{{address}}</view>
        </block>
      </view>
    </view>
  </view>
</view>

<view class="bottom-con">
  <block wx:if="{{orderData[0].taskid == 1 || orderData[0].taskid == 2}}">
    <view class="order-infos">
      <view class="order-title">订单信息</view>
      <view class="order-info-con">

        <block wx:if="{{orderData[0].taskid == 1}}">
          <view class="order-infos-stitle">在线办卡</view>
        </block>
        <block wx:elif="{{orderData[0].taskid == 2}}">
          <view class="order-infos-stitle">在线充值</view>
        </block>

        <view>
          <block wx:if="{{orderData[0].taskstate == 1}}">
            <text>订单状态：</text>受理中
          </block>
          <block wx:elif="{{orderData[0].taskstate == 2}}">
            <text>订单状态：</text>办理成功
          </block>
          <block wx:elif="{{orderData[0].taskstate == 3}}">
            <text>订单状态：</text>办理失败
          </block>
        </view>

        <view>
          <text>充值金额：</text>￥{{orderData[0].mysqldocardinfo.opnum}}</view>

        <block wx:if="{{orderData[0].taskid == 1}}">
          <view>
            <text>手 机 号：</text>{{orderData[0].mysqldocardinfo.phonenumber}}</view>
        </block>
        <block wx:elif="{{orderData[0].taskid == 2}}">
          <view>
            <text>手 机 号：</text>{{orderData[0].mysqldocardinfo.phone}}</view>
        </block>

        <view>
          <text>订 单 号：</text>{{orderData[0].mysqldocardinfo.guid}}</view>
        <view>
          <text>办理时间：</text>{{orderData[0].tasktime}}</view>
        <block wx:if="{{orderData[0].synctime}}">
          <view>
            <text>处理时间：</text>{{orderData[0].synctime}}</view>
        </block>
        <block wx:if="{{orderData[0].taskresult}}">
          <view>
            <text>备注信息：</text>{{orderData[0].taskresult}}</view>
        </block>
      </view>
    </view>
  </block>

  <block wx:if="{{orderData[0].taskid == 4 && orderData[0].srctype}}">
    <view class="order-infos">
      <view class="order-title">订单信息</view>
      <view class="order-info-con">
        <view class="order-infos-stitle">会员卡转赠</view>

        <view>
          <block wx:if="{{orderData[0].taskstate == 1}}">
            <text>订单状态：</text>接收中
          </block>
          <block wx:elif="{{orderData[0].taskstate == 2}}">
            <text>订单状态：</text>会员卡被退回
          </block>
          <block wx:elif="{{orderData[0].taskstate == 3}}">
            <text>订单状态：</text>超时未领取被退回
          </block>
        </view>

        <view>
          <text>会员卡号：</text>{{orderData[0].cardno}}</view>

        <view>
          <text>受赠手机号：</text>{{orderData[0].mysqldocardinfo.szphone}}</view>

        <view>
          <text>订 单 号：</text>{{orderData[0].rguid}}</view>
        <view>
          <text>转赠时间：</text>{{orderData[0].tasktime}}</view>
        <block wx:if="{{orderData[0].synctime}}">
          <view>
            <text>处理时间：</text>{{orderData[0].synctime}}</view>
        </block>
        <block wx:if="{{orderData[0].taskresult}}">
          <view>
            <text>备注信息：</text>{{orderData[0].taskresult}}</view>
        </block>
      </view>
    </view>
  </block>

  <block wx:if="{{orderData[0].taskid == 4 && !orderData[0].srctype}}">
    <view class="order-infos">
      <view class="order-title">订单信息</view>
      <view class="order-info-con">
        <view class="order-infos-stitle">会员卡转赠</view>

        <view>
          <block wx:if="{{orderData[0].taskstate == 1}}">
            <text>订单状态：</text>已接收，处理中
          </block>
          <block wx:elif="{{orderData[0].taskstate == 2}}">
            <text>订单状态：</text>接收成功
          </block>
          <block wx:elif="{{orderData[0].taskstate == 3}}">
            <text>订单状态：</text>处理失败
          </block>
        </view>

        <view>
          <text>会员卡号：</text>{{orderData[0].cardno}}</view>

        <view>
          <text>受赠手机号：</text>{{orderData[0].mysqldocardinfo.szphone}}</view>

        <view>
          <text>订 单 号：</text>{{orderData[0].rguid}}</view>
        <view>
          <text>转赠时间：</text>{{orderData[0].tasktime}}</view>
        <block wx:if="{{orderData[0].synctime}}">
          <view>
            <text>处理时间：</text>{{orderData[0].synctime}}</view>
        </block>
        <block wx:if="{{orderData[0].taskresult}}">
          <view>
            <text>备注信息：</text>{{orderData[0].taskresult}}</view>
        </block>
      </view>
    </view>
  </block>

  <block wx:if="{{orderData[0].mysqldocardinfo.refund_status}}">
    <view class="order-infos">
      <view class="order-title">退款信息</view>
      <view class="order-info-con">
        <view>
          <block wx:if="{{orderData[0].mysqldocardinfo.refund_status == 'SUCCESS'}}">
            <text>退款状态：</text>退款成功
          </block>
          <block wx:elif="{{orderData[0].mysqldocardinfo.refund_status == 'REFUNDCLOSE'}}">
            <text>退款状态：</text>退款关闭
          </block>
          <block wx:elif="{{orderData[0].mysqldocardinfo.refund_status == 'PROCESSING'}}">
            <text>退款状态：</text>退款处理中
          </block>
          <block wx:elif="{{orderData[0].mysqldocardinfo.refund_status == 'CHANGE'}}">
            <text>退款状态：</text>退款异常
          </block>
        </view>
        <view>
          <text>退款金额：</text>￥{{orderData[0].mysqldocardinfo.settlement_refund_fee == '' || orderData[0].mysqldocardinfo.settlement_refund_fee == '0.00' ? orderData[0].mysqldocardinfo.refund_fee : orderData[0].mysqldocardinfo.settlement_refund_fee}}</view>
        <view>
          <block wx:if="{{orderData[0].mysqldocardinfo.refund_channel == 'ORIGINAL'}}">
            <text>退款渠道：</text>原路退款
          </block>
          <block wx:elif="{{orderData[0].mysqldocardinfo.refund_channel == 'BALANCE'}}">
            <text>退款渠道：</text>退回到余额
          </block>
          <block wx:elif="{{orderData[0].mysqldocardinfo.refund_channel == 'OTHER_BALANCE'}}">
            <text>退款渠道：</text>原账户异常退到其他余额账户
          </block>
          <block wx:elif="{{orderData[0].mysqldocardinfo.refund_channel == 'OTHER_BANKCARD'}}">
            <text>退款渠道：</text>原银行卡异常退到其他银行卡
          </block>
        </view>
        <view>
          <text>退款入账账户：</text>{{orderData[0].mysqldocardinfo.refund_recv_accout}}</view>
        <view>
          <block wx:if="{{orderData[0].mysqldocardinfo.refund_success_time != ''}}">
            <text>退款成功时间：</text>{{orderData[0].mysqldocardinfo.refund_success_time}}
          </block>
        </view>
        <view>
          <text>退款单号：</text>{{orderData[0].mysqldocardinfo.out_refund_no}}</view>
      </view>
    </view>
  </block>

  <view class="top-store-address">
    <view class="store-name">{{orderData[0].mysqldocardinfo.store_name}}</view>
    <view class="flex-wrp">
      <view class="address text-ellipsis">
        {{address ? address : '未设置门店地址'}}
      </view>
      <view class="location" bindtap="location">{{distance}}
        <image src="https://iservice.daqisoft.cn/Public/Home/images/location_icon_2.png" lazy-load></image>
      </view>
      <view class="telphone" data-phone="{{orderData[0].mysqldocardinfo.tel}}" bindtap="phoneCall">
        <image src="https://iservice.daqisoft.cn/Public/Home/images/telphone_icon_1.png" lazy-load></image>
      </view>
    </view>
  </view>
</view>